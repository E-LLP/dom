!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.CycleDOM=t()}}(function(){return function t(e,n,o){function r(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n?n:t)},c,c.exports,t,e,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,e,n){(function(e){"use strict";function o(t,e){var n=!1;return"boolean"==typeof e.useCapture&&(n=e.useCapture),-1!==d.indexOf(t)&&(n=!0),n}var r,i=t("@cycle/xstream-adapter"),a="undefined"!=typeof window?window.xstream:"undefined"!=typeof e?e.xstream:null,s=t("./ElementFinder"),u=t("./fromEvent"),l=t("./isolate"),c=t("./EventDelegator"),f=t("./utils");try{r=t("matches-selector")}catch(p){r=Function.prototype}var d=["load","unload","focus","blur","mouseenter","mouseleave","submit","change","reset","timeupdate","playing","waiting","seeking","seeked","ended","loadedmetadata","loadeddata","canplay","canplaythrough","durationchange","play","pause","ratechange","volumechange","suspend","emptied","stalled"],h=function(){function t(t,e,n,o,r){void 0===n&&(n=[]),this._rootElement$=t,this._runStreamAdapter=e,this._namespace=n,this._isolateModule=o,this._delegators=r,this.isolateSource=l.isolateSource,this.isolateSink=l.isolateSink}return Object.defineProperty(t.prototype,"elements",{get:function(){if(0===this._namespace.length)return this._runStreamAdapter.adapt(this._rootElement$,i["default"].streamSubscribe);var t=new s.ElementFinder(this._namespace,this._isolateModule);return this._runStreamAdapter.adapt(this._rootElement$.map(function(e){return t.call(e)}),i["default"].streamSubscribe)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"namespace",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),t.prototype.select=function(e){if("string"!=typeof e)throw new Error("DOM driver's select() expects the argument to be a string as a CSS selector");var n=e.trim(),o=":root"===n?this._namespace:this._namespace.concat(n);return new t(this._rootElement$,this._runStreamAdapter,o,this._isolateModule,this._delegators)},t.prototype.events=function(t,e){if(void 0===e&&(e={}),"string"!=typeof t)throw new Error("DOM driver's events() expects argument to be a string representing the event type to listen for.");var n=o(t,e),r=this._namespace,s=f.getScope(r),l=[t,n];s&&l.push(s);var p,d=l.join("~"),h=this;if(s){var v=!1;p=this._rootElement$.filter(function(t){var e=!!h._isolateModule.getIsolatedElement(s),n=e&&!v;return v=e,n})}else p=this._rootElement$.take(2);var m=p.map(function(e){if(!r||0===r.length)return u.fromEvent(e,t,n);var o,i=h._delegators,l=s?h._isolateModule.getIsolatedElement(s):e;i.has(d)?(o=i.get(d),o.updateTopElement(l)):(o=new c.EventDelegator(l,t,n,h._isolateModule),i.set(d,o));var f=a["default"].create();return s&&h._isolateModule.addEventDelegator(s,o),o.addDestination(f,r),f}).flatten();return this._runStreamAdapter.adapt(m,i["default"].streamSubscribe)},t.prototype.dispose=function(){this._isolateModule.reset()},t}();n.DOMSource=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ElementFinder":2,"./EventDelegator":3,"./fromEvent":7,"./isolate":11,"./utils":18,"@cycle/xstream-adapter":19,"matches-selector":40}],2:[function(t,e,n){"use strict";function o(t){return Array.prototype.slice.call(t)}var r,i=t("./ScopeChecker"),a=t("./utils");try{r=t("matches-selector")}catch(s){r=Function.prototype}var u=function(){function t(t,e){this.namespace=t,this.isolateModule=e}return t.prototype.call=function(t){var e=this.namespace;if(""===e.join(""))return t;var n=a.getScope(e),s=new i.ScopeChecker(n,this.isolateModule),u=a.getSelectors(e),l=t,c=[];return n.length>0&&(l=this.isolateModule.getIsolatedElement(n)||t,u&&r(l,u)&&c.push(l)),o(l.querySelectorAll(u)).filter(s.isStrictlyInRootScope,s).concat(c)},t}();n.ElementFinder=u},{"./ScopeChecker":5,"./utils":18,"matches-selector":40}],3:[function(t,e,n){"use strict";var o,r=t("./ScopeChecker"),i=t("./utils");try{o=t("matches-selector")}catch(a){o=Function.prototype}var s=function(){function t(t,e,n,o){var r=this;this.topElement=t,this.eventType=e,this.useCapture=n,this.isolateModule=o,this.destinations=[],this.roof=t.parentElement,n?this.domListener=function(t){return r.capture(t)}:this.domListener=function(t){return r.bubble(t)},t.addEventListener(e,this.domListener,n)}return t.prototype.bubble=function(t){if(document.body.contains(t.currentTarget))for(var e=this.patchEvent(t),n=e.target;n&&n!==this.roof;n=n.parentElement){if(e.propagationHasBeenStopped)return;this.matchEventAgainstDestinations(n,e)}},t.prototype.matchEventAgainstDestinations=function(t,e){for(var n=0,r=this.destinations.length;r>n;n++){var i=this.destinations[n];i.scopeChecker.isStrictlyInRootScope(t)&&o(t,i.selector)&&(this.mutateEventCurrentTarget(e,t),i.subject._n(e))}},t.prototype.capture=function(t){for(var e=0,n=this.destinations.length;n>e;e++){var r=this.destinations[e];o(t.target,r.selector)&&r.subject._n(t)}},t.prototype.addDestination=function(t,e){var n=i.getScope(e),o=i.getSelectors(e),a=new r.ScopeChecker(n,this.isolateModule);this.destinations.push({subject:t,scopeChecker:a,selector:o})},t.prototype.patchEvent=function(t){var e=t;e.propagationHasBeenStopped=!1;var n=e.stopPropagation;return e.stopPropagation=function(){n.call(this),this.propagationHasBeenStopped=!0},e},t.prototype.mutateEventCurrentTarget=function(t,e){try{Object.defineProperty(t,"currentTarget",{value:e,configurable:!0})}catch(n){console.log("please use event.ownerTarget")}t.ownerTarget=e},t.prototype.updateTopElement=function(t){this.topElement.removeEventListener(this.eventType,this.domListener,this.useCapture),t.addEventListener(this.eventType,this.domListener,this.useCapture),this.topElement=t},t}();n.EventDelegator=s},{"./ScopeChecker":5,"./utils":18,"matches-selector":40}],4:[function(t,e,n){(function(e){"use strict";var o="undefined"!=typeof window?window.xstream:"undefined"!=typeof e?e.xstream:null,r=t("@cycle/xstream-adapter"),i=t("snabbdom-to-html"),a=function(){function t(t,e){this.runStreamAdapter=e,this._html$=t.last().map(i),this._empty$=e.adapt(o["default"].empty(),r["default"].streamSubscribe)}return Object.defineProperty(t.prototype,"elements",{get:function(){return this.runStreamAdapter.adapt(this._html$,r["default"].streamSubscribe)},enumerable:!0,configurable:!0}),t.prototype.select=function(){return new t(o["default"].empty(),this.runStreamAdapter)},t.prototype.events=function(){return this._empty$},t}();n.HTMLSource=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@cycle/xstream-adapter":19,"snabbdom-to-html":44}],5:[function(t,e,n){"use strict";var o=function(){function t(t,e){this.scope=t,this.isolateModule=e}return t.prototype.isStrictlyInRootScope=function(t){for(var e=t;e;e=e.parentElement){var n=this.isolateModule.isIsolatedElement(e);if(n&&n!==this.scope)return!1;if(n)return!0}return!0},t}();n.ScopeChecker=o},{}],6:[function(t,e,n){"use strict";var o=t("./hyperscript"),r=t("snabbdom-selector/lib/classNameFromVNode"),i=t("snabbdom-selector/lib/selectorParser"),a=function(){function t(t){this.rootElement=t}return t.prototype.call=function(t){var e=i["default"](t.sel),n=e.tagName,a=e.id,s=r["default"](t),u=t.data||{},l=u.props||{},c=l.id,f=void 0===c?a:c,p=f.toUpperCase()===this.rootElement.id.toUpperCase()&&n.toUpperCase()===this.rootElement.tagName.toUpperCase()&&s.toUpperCase()===this.rootElement.className.toUpperCase();if(p)return t;var d=this.rootElement,h=d.tagName,v=d.id,m=d.className,y=v?"#"+v:"",g=m?"."+m.split(" ").join("."):"";return o.h(""+h+y+g,{},[t])},t}();n.VNodeWrapper=a},{"./hyperscript":9,"snabbdom-selector/lib/classNameFromVNode":41,"snabbdom-selector/lib/selectorParser":42}],7:[function(t,e,n){(function(t){"use strict";function e(t,e,n){return void 0===n&&(n=!1),o.Stream.create({element:t,next:null,start:function(t){this.next=function(e){t.next(e)},this.element.addEventListener(e,this.next,n)},stop:function(){this.element.removeEventListener(e,this.next,n)}})}var o="undefined"!=typeof window?window.xstream:"undefined"!=typeof t?t.xstream:null;n.fromEvent=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(t,e,n){"use strict";function o(t){return"string"==typeof t&&t.length>0}function r(t){return o(t)&&("."===t[0]||"#"===t[0])}function i(t){return function(e,n,o){return r(e)?n&&o?a.h(t+e,n,o):n?a.h(t+e,n):a.h(t+e,{}):n?a.h(t,e,n):e?a.h(t,e):a.h(t,{})}}var a=t("./hyperscript"),s=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","colorProfile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotlight","feTile","feTurbulence","filter","font","fontFace","fontFaceFormat","fontFaceName","fontFaceSrc","fontFaceUri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missingGlyph","mpath","path","pattern","polygon","polyling","radialGradient","rect","script","set","stop","style","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],u=i("svg");s.forEach(function(t){u[t]=i(t)});var l=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","dfn","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","meta","nav","noscript","object","ol","optgroup","option","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","sup","table","tbody","td","textarea","tfoot","th","thead","title","tr","u","ul","video"],c={SVG_TAG_NAMES:s,TAG_NAMES:l,svg:u,isSelector:r,createTagFunction:i};l.forEach(function(t){c[t]=i(t)}),Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=c},{"./hyperscript":9}],9:[function(t,e,n){"use strict";function o(t){return!Array.isArray(t)&&"function"==typeof t.map}function r(t){return i(t.data,t.children),t}function i(t,e){if(t.ns="http://www.w3.org/2000/svg","undefined"!=typeof e&&s.array(e))for(var n=0;n<e.length;++n)o(e[n])?e[n]=e[n].map(r):i(e[n].data,e[n].children)}function a(t,e,n){var o,r,a,l={};if(3===arguments.length?(l=e,s.array(n)?o=n:s.primitive(n)&&(r=n)):2===arguments.length&&(s.array(e)?o=e:s.primitive(e)?r=e:l=e),s.array(o))for(o=o.filter(function(t){return t}),a=0;a<o.length;++a)s.primitive(o[a])&&(o[a]=u(void 0,void 0,void 0,o[a]));return"s"===t[0]&&"v"===t[1]&&"g"===t[2]&&i(l,o),u(t,l,o,r,void 0)}var s=t("snabbdom/is"),u=t("snabbdom/vnode");n.h=a},{"snabbdom/is":52,"snabbdom/vnode":61}],10:[function(t,e,n){"use strict";var o=t("snabbdom/thunk");n.thunk=o;var r=t("./makeDOMDriver");n.makeDOMDriver=r.makeDOMDriver;var i=t("./DOMSource");n.DOMSource=i.DOMSource;var a=t("./mockDOMSource");n.mockDOMSource=a.mockDOMSource;var s=t("./makeHTMLDriver");n.makeHTMLDriver=s.makeHTMLDriver;var u=t("./HTMLSource");n.HTMLSource=u.HTMLSource;var l=t("./hyperscript");n.h=l.h;var c=t("./hyperscript-helpers"),f=c["default"].svg;n.svg=f;var p=c["default"].a;n.a=p;var d=c["default"].abbr;n.abbr=d;var h=c["default"].address;n.address=h;var v=c["default"].area;n.area=v;var m=c["default"].article;n.article=m;var y=c["default"].aside;n.aside=y;var g=c["default"].audio;n.audio=g;var _=c["default"].b;n.b=_;var b=c["default"].base;n.base=b;var w=c["default"].bdi;n.bdi=w;var x=c["default"].bdo;n.bdo=x;var S=c["default"].blockquote;n.blockquote=S;var E=c["default"].body;n.body=E;var O=c["default"].br;n.br=O;var k=c["default"].button;n.button=k;var M=c["default"].canvas;n.canvas=M;var j=c["default"].caption;n.caption=j;var C=c["default"].cite;n.cite=C;var D=c["default"].code;n.code=D;var T=c["default"].col;n.col=T;var N=c["default"].colgroup;n.colgroup=N;var A=c["default"].dd;n.dd=A;var L=c["default"].del;n.del=L;var F=c["default"].dfn;n.dfn=F;var P=c["default"].dir;n.dir=P;var I=c["default"].div;n.div=I;var R=c["default"].dl;n.dl=R;var $=c["default"].dt;n.dt=$;var H=c["default"].em;n.em=H;var q=c["default"].embed;n.embed=q;var B=c["default"].fieldset;n.fieldset=B;var U=c["default"].figcaption;n.figcaption=U;var V=c["default"].figure;n.figure=V;var z=c["default"].footer;n.footer=z;var G=c["default"].form;n.form=G;var W=c["default"].h1;n.h1=W;var Z=c["default"].h2;n.h2=Z;var X=c["default"].h3;n.h3=X;var J=c["default"].h4;n.h4=J;var Y=c["default"].h5;n.h5=Y;var K=c["default"].h6;n.h6=K;var Q=c["default"].head;n.head=Q;var tt=c["default"].header;n.header=tt;var et=c["default"].hgroup;n.hgroup=et;var nt=c["default"].hr;n.hr=nt;var ot=c["default"].html;n.html=ot;var rt=c["default"].i;n.i=rt;var it=c["default"].iframe;n.iframe=it;var at=c["default"].img;n.img=at;var st=c["default"].input;n.input=st;var ut=c["default"].ins;n.ins=ut;var lt=c["default"].kbd;n.kbd=lt;var ct=c["default"].keygen;n.keygen=ct;var ft=c["default"].label;n.label=ft;var pt=c["default"].legend;n.legend=pt;var dt=c["default"].li;n.li=dt;var ht=c["default"].link;n.link=ht;var vt=c["default"].main;n.main=vt;var mt=c["default"].map;n.map=mt;var yt=c["default"].mark;n.mark=yt;var gt=c["default"].menu;n.menu=gt;var _t=c["default"].meta;n.meta=_t;var bt=c["default"].nav;n.nav=bt;var wt=c["default"].noscript;n.noscript=wt;var xt=c["default"].object;n.object=xt;var St=c["default"].ol;n.ol=St;var Et=c["default"].optgroup;n.optgroup=Et;var Ot=c["default"].option;n.option=Ot;var kt=c["default"].p;n.p=kt;var Mt=c["default"].param;n.param=Mt;var jt=c["default"].pre;n.pre=jt;var Ct=(c["default"].progress,c["default"].q);n.q=Ct;var Dt=c["default"].rp;n.rp=Dt;var Tt=c["default"].rt;n.rt=Tt;var Nt=c["default"].ruby;n.ruby=Nt;var At=c["default"].s;n.s=At;var Lt=c["default"].samp;n.samp=Lt;var Ft=c["default"].script;n.script=Ft;var Pt=c["default"].section;n.section=Pt;var It=c["default"].select;n.select=It;var Rt=c["default"].small;n.small=Rt;var $t=c["default"].source;n.source=$t;var Ht=c["default"].span;n.span=Ht;var qt=c["default"].strong;n.strong=qt;var Bt=c["default"].style;n.style=Bt;var Ut=c["default"].sub;n.sub=Ut;var Vt=c["default"].sup;n.sup=Vt;var zt=c["default"].table;n.table=zt;var Gt=c["default"].tbody;n.tbody=Gt;var Wt=c["default"].td;n.td=Wt;var Zt=c["default"].textarea;n.textarea=Zt;var Xt=c["default"].tfoot;n.tfoot=Xt;var Jt=c["default"].th;n.th=Jt;var Yt=c["default"].thead;n.thead=Yt;var Kt=c["default"].title;n.title=Kt;var Qt=c["default"].tr;n.tr=Qt;var te=c["default"].u;n.u=te;var ee=c["default"].ul;n.ul=ee;var ne=c["default"].video;n.video=ne},{"./DOMSource":1,"./HTMLSource":4,"./hyperscript":9,"./hyperscript-helpers":8,"./makeDOMDriver":13,"./makeHTMLDriver":14,"./mockDOMSource":15,"snabbdom/thunk":60}],11:[function(t,e,n){"use strict";function o(t,e){return t.select(i.SCOPE_PREFIX+e)}function r(t,e){return t.map(function(t){if(t.data.isolate){var n=parseInt(t.data.isolate.split(i.SCOPE_PREFIX+"cycle")[1]),o=parseInt(e.split("cycle")[1]);if(Number.isNaN(n)||Number.isNaN(o)||n>o)return t}return t.data.isolate=i.SCOPE_PREFIX+e,t})}var i=t("./utils");n.isolateSource=o,n.isolateSink=r},{"./utils":18}],12:[function(t,e,n){"use strict";var o=function(){function t(t){this.isolatedElements=t,this.eventDelegators=new Map}return t.prototype.setScope=function(t,e){this.isolatedElements.set(e,t)},t.prototype.removeScope=function(t){this.isolatedElements["delete"](t)},t.prototype.getIsolatedElement=function(t){return this.isolatedElements.get(t)},t.prototype.isIsolatedElement=function(t){for(var e=Array.from(this.isolatedElements.entries()),n=0;n<e.length;++n)if(t===e[n][1])return e[n][0];return!1},t.prototype.addEventDelegator=function(t,e){var n=this.eventDelegators.get(t);n||(n=[],this.eventDelegators.set(t,n)),n[n.length]=e},t.prototype.reset=function(){this.isolatedElements.clear()},t.prototype.createModule=function(){var t=this;return{create:function(e,n){var o=e.data,r=void 0===o?{}:o,i=n.elm,a=n.data,s=void 0===a?{}:a,u=r.isolate||"",l=s.isolate||"";if(l){u&&t.removeScope(u),t.setScope(i,l);var c=t.eventDelegators.get(l);if(c)for(var f=0,p=c.length;p>f;++f)c[f].updateTopElement(i);else void 0===c&&t.eventDelegators.set(l,[])}u&&!l&&t.removeScope(l)},update:function(e,n){var o=e.data,r=void 0===o?{}:o,i=n.elm,a=n.data,s=void 0===a?{}:a,u=r.isolate||"",l=s.isolate||"";l&&(u&&t.removeScope(u),t.setScope(i,l)),u&&!l&&t.removeScope(l)},remove:function(e,n){var o=e.data;o=o||{};var r=o.isolate;r&&(t.removeScope(r),t.eventDelegators.get(r)&&t.eventDelegators.set(r,[])),n()},destroy:function(e){var n=e.data;n=n||{};var o=n.isolate;o&&(t.removeScope(o),t.eventDelegators.get(o)&&t.eventDelegators.set(o,[]))}}},t}();n.IsolateModule=o},{}],13:[function(t,e,n){(function(e){"use strict";function o(t){if(!Array.isArray(t))throw new Error("Optional modules option must be an array for snabbdom modules")}function r(t){if(!t||"function"!=typeof t.addListener||"function"!=typeof t.fold)throw new Error("The DOM driver function expects as input a Stream of virtual DOM elements")}function i(t,e){function n(t,e){r(t);var n=h.makeTransposeVNode(e),o=i?t.map(n).flatten():t,a=o.map(function(t){return b.call(t)}).fold(g,_).drop(1).map(function(t){return t.elm}).startWith(_).compose(function(t){return u["default"](t,s["default"].never())}).remember();return a.addListener({next:function(){},error:function(){},complete:function(){}}),new l.DOMSource(a,e,[],y,w)}e||(e={});var i=e.transposition||!1,m=e.modules||p["default"],y=new d.IsolateModule(new Map),g=a.init([y.createModule()].concat(m)),_=f.getElement(t),b=new c.VNodeWrapper(_),w=new Map;return o(m),n.streamAdapter=v["default"],n}var a=t("snabbdom"),s="undefined"!=typeof window?window.xstream:"undefined"!=typeof e?e.xstream:null,u=t("xstream/extra/concat"),l=t("./DOMSource"),c=t("./VNodeWrapper"),f=t("./utils"),p=t("./modules"),d=t("./isolateModule"),h=t("./transposition"),v=t("@cycle/xstream-adapter");n.makeDOMDriver=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./DOMSource":1,"./VNodeWrapper":6,"./isolateModule":12,"./modules":16,"./transposition":17,"./utils":18,"@cycle/xstream-adapter":19,snabbdom:59,"xstream/extra/concat":63}],14:[function(t,e,n){"use strict";function o(t){function e(t,e){var o=i.makeTransposeVNode(e),r=n?t.map(o).flatten():t;return new a.HTMLSource(r,e)}t||(t={});var n=t.transposition||!1;return e.streamAdapter=r["default"],e}var r=t("@cycle/xstream-adapter"),i=t("./transposition"),a=t("./HTMLSource");n.makeHTMLDriver=o},{"./HTMLSource":4,"./transposition":17,"@cycle/xstream-adapter":19}],15:[function(t,e,n){(function(t){"use strict";function e(t){return new r(t)}var o="undefined"!=typeof window?window.xstream:"undefined"!=typeof t?t.xstream:null,r=function(){function t(t){this._mockConfig=t,t.elements?this.elements=t.elements:this.elements=o["default"].empty()}return t.prototype.events=function(t){for(var e=this._mockConfig,n=Object.keys(e),r=n.length,i=0;r>i;i++){var a=n[i];if(a===t)return e[a]}return o["default"].empty()},t.prototype.select=function(e){for(var n=this._mockConfig,o=Object.keys(n),r=o.length,i=0;r>i;i++){var a=o[i];if(a===e)return new t(n[a])}return new t({})},t}();n.MockedDOMSource=r,n.mockDOMSource=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(t,e,n){"use strict";var o=t("snabbdom/modules/class");n.ClassModule=o;var r=t("snabbdom/modules/props");n.PropsModule=r;var i=t("snabbdom/modules/attributes");n.AttrsModule=i;var a=t("snabbdom/modules/eventlisteners");n.EventsModule=a;var s=t("snabbdom/modules/style");n.StyleModule=s;var u=t("snabbdom/modules/hero");n.HeroModule=u,Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=[s,o,r,i]},{"snabbdom/modules/attributes":53,"snabbdom/modules/class":54,"snabbdom/modules/eventlisteners":55,"snabbdom/modules/hero":56,"snabbdom/modules/props":57,"snabbdom/modules/style":58}],17:[function(t,e,n){(function(e){"use strict";function o(t,e){return{sel:t.sel,data:t.data,text:t.text,elm:t.elm,key:t.key,children:e}}function r(t){return function e(n){if(n){if(n&&"object"===i(n.data)&&n.data["static"])return s["default"].of(n);if(t.isValidStream(n)){var r=a["default"].adapt(n,t.streamSubscribe);return r.map(e).flatten()}if("object"===("undefined"==typeof n?"undefined":i(n))){if(!n.children||0===n.children.length)return s["default"].of(n);var u=n.children.map(e).filter(function(t){return null!==t});return 0===u.length?s["default"].of(o(n,u)):s["default"].combine.apply(s["default"],[function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return o(n,t)}].concat(u))}throw new Error("Unhandled vTree Value")}return null}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=t("@cycle/xstream-adapter"),s="undefined"!=typeof window?window.xstream:"undefined"!=typeof e?e.xstream:null;n.makeTransposeVNode=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@cycle/xstream-adapter":19}],18:[function(t,e,n){"use strict";function o(t){return"object"===("undefined"==typeof HTMLElement?"undefined":s(HTMLElement))?t instanceof HTMLElement||t instanceof DocumentFragment:t&&"object"===("undefined"==typeof t?"undefined":s(t))&&null!==t&&(1===t.nodeType||11===t.nodeType)&&"string"==typeof t.nodeName}function r(t){var e="string"==typeof t?document.querySelector(t):t;if("string"==typeof t&&null===e)throw new Error("Cannot render into unknown element `"+t+"`");if(!o(e))throw new Error("Given container is not a DOM element neither a selector string.");return e}function i(t){return t.filter(function(t){return t.indexOf(n.SCOPE_PREFIX)>-1}).slice(-1).join("")}function a(t){return t.filter(function(t){return-1===t.indexOf(n.SCOPE_PREFIX)}).join(" ")}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};n.SCOPE_PREFIX="$$CYCLEDOM$$-",n.getElement=r,n.getScope=i,n.getSelectors=a},{}],19:[function(t,e,n){"use strict";function o(t){var e=t.stack||t;console&&console.error?console.error(e):console&&console.log&&console.log(e)}var r=t("xstream"),i={adapt:function(t,e){if(i.isValidStream(t))return t;var n=null;return r["default"].create({start:function(o){var r={next:function(t){return o.shamefullySendNext(t)},error:function(t){return o.shamefullySendError(t)},complete:function(){return o.shamefullySendComplete()}};n=e(t,r)},stop:function(){"function"==typeof n&&n()}})},dispose:function(t,e,n){Object.keys(n).forEach(function(t){"function"==typeof n[t].dispose&&n[t].dispose()}),Object.keys(t).forEach(function(n){t[n].removeListener(e[n].stream)})},makeHoldSubject:function(){var t=r["default"].createWithMemory(),e={next:function(e){t.shamefullySendNext(e)},error:function(e){o(e),t.shamefullySendError(e)},complete:function(){t.shamefullySendComplete()}};return{observer:e,stream:t}},isValidStream:function(t){return"function"==typeof t.addListener&&"function"==typeof t.imitate},streamSubscribe:function(t,e){return t.addListener(e),function(){return t.removeListener(e)}}};Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{xstream:void 0}],20:[function(t,e,n){e.exports=function(t){var e,n=String.prototype.split,o=/()??/.exec("")[1]===t;return e=function(e,r,i){if("[object RegExp]"!==Object.prototype.toString.call(r))return n.call(e,r,i);var a,s,u,l,c=[],f=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.extended?"x":"")+(r.sticky?"y":""),p=0,r=new RegExp(r.source,f+"g");for(e+="",o||(a=new RegExp("^"+r.source+"$(?!\\s)",f)),i=i===t?-1>>>0:i>>>0;(s=r.exec(e))&&(u=s.index+s[0].length,!(u>p&&(c.push(e.slice(p,s.index)),!o&&s.length>1&&s[0].replace(a,function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===t&&(s[e]=t)}),s.length>1&&s.index<e.length&&Array.prototype.push.apply(c,s.slice(1)),l=s[0].length,p=u,c.length>=i)));)r.lastIndex===s.index&&r.lastIndex++;return p===e.length?(l||!r.test(""))&&c.push(""):c.push(e.slice(p)),c.length>i?c.slice(0,i):c}}()},{}],21:[function(t,e,n){function o(t){return!!t&&"object"==typeof t}function r(t,e){for(var n=-1,o=e.length,r=t.length;++n<o;)t[r+n]=e[n];return t}function i(t,e,n,a){a||(a=[]);for(var u=-1,f=t.length;++u<f;){var p=t[u];o(p)&&s(p)&&(n||c(p)||l(p))?e?i(p,e,n,a):r(a,p):n||(a[a.length]=p)}return a}function a(t){return function(e){return null==e?void 0:e[t]}}function s(t){return null!=t&&u(p(t))}function u(t){return"number"==typeof t&&t>-1&&t%1==0&&f>=t}var l=t("lodash.isarguments"),c=t("lodash.isarray"),f=9007199254740991,p=a("length");e.exports=i},{"lodash.isarguments":33,"lodash.isarray":34}],22:[function(t,e,n){function o(t){return function(e,n,o){for(var r=-1,i=Object(e),a=o(e),s=a.length;s--;){var u=a[t?s:++r];if(n(i[u],u,i)===!1)break}return e}}var r=o();e.exports=r},{}],23:[function(t,e,n){function o(t,e,n){if(e!==e)return r(t,n);for(var o=n-1,i=t.length;++o<i;)if(t[o]===e)return o;return-1}function r(t,e,n){for(var o=t.length,r=e+(n?0:-1);n?r--:++r<o;){var i=t[r];if(i!==i)return r}return-1}e.exports=o},{}],24:[function(t,e,n){function o(t,e){var n=-1,o=r,u=t.length,l=!0,c=l&&u>=s,f=c?a():null,p=[];f?(o=i,l=!1):(c=!1,f=e?[]:p);t:for(;++n<u;){var d=t[n],h=e?e(d,n,t):d;if(l&&d===d){for(var v=f.length;v--;)if(f[v]===h)continue t;e&&f.push(h),p.push(d)}else o(f,h,0)<0&&((e||c)&&f.push(h),p.push(d))}return p}var r=t("lodash._baseindexof"),i=t("lodash._cacheindexof"),a=t("lodash._createcache"),s=200;e.exports=o},{"lodash._baseindexof":23,"lodash._cacheindexof":26,"lodash._createcache":27}],25:[function(t,e,n){function o(t,e,n){if("function"!=typeof t)return r;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,o,r){return t.call(e,n,o,r)};case 4:return function(n,o,r,i){return t.call(e,n,o,r,i)};case 5:return function(n,o,r,i,a){return t.call(e,n,o,r,i,a)}}return function(){return t.apply(e,arguments)}}function r(t){return t}e.exports=o},{}],26:[function(t,e,n){function o(t,e){var n=t.data,o="string"==typeof e||r(e)?n.set.has(e):n.hash[e];return o?0:-1}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}e.exports=o},{}],27:[function(t,e,n){(function(n){function o(t){var e=t?t.length:0;for(this.data={hash:l(null),set:new u};e--;)this.push(t[e])}function r(t){var e=this.data;"string"==typeof t||a(t)?e.set.add(t):e.hash[t]=!0}function i(t){return l&&u?new o(t):null}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var s=t("lodash._getnative"),u=s(n,"Set"),l=s(Object,"create");o.prototype.push=r,e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._getnative":28}],28:[function(t,e,n){function o(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return s(n)?n:void 0}function i(t){return a(t)&&d.call(t)==u}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return null==t?!1:i(t)?h.test(f.call(t)):o(t)&&l.test(t)}var u="[object Function]",l=/^\[object .+?Constructor\]$/,c=Object.prototype,f=Function.prototype.toString,p=c.hasOwnProperty,d=c.toString,h=RegExp("^"+f.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},{}],29:[function(t,e,n){(function(t){function o(t){return t&&t.Object===Object?t:null}var r={"function":!0,object:!0},i=r[typeof n]&&n&&!n.nodeType?n:void 0,a=r[typeof e]&&e&&!e.nodeType?e:void 0,s=o(i&&a&&"object"==typeof t&&t),u=o(r[typeof self]&&self),l=o(r[typeof window]&&window),c=o(r[typeof this]&&this),f=s||l!==(c&&c.window)&&l||u||c||Function("return this")();e.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],30:[function(t,e,n){function o(t){return m[t]}function r(t){return!!t&&"object"==typeof t}function i(t){return"symbol"==typeof t||r(t)&&g.call(t)==c}function a(t){if("string"==typeof t)return t;if(null==t)return"";if(i(t))return _?w.call(t):"";var e=t+"";return"0"==e&&1/t==-l?"-0":e}function s(t){return t=a(t),t&&t.replace(f,o).replace(v,"")}var u=t("lodash._root"),l=1/0,c="[object Symbol]",f=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,p="\\u0300-\\u036f\\ufe20-\\ufe23",d="\\u20d0-\\u20f0",h="["+p+d+"]",v=RegExp(h,"g"),m={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},y=Object.prototype,g=y.toString,_=u.Symbol,b=_?_.prototype:void 0,w=_?b.toString:void 0;e.exports=s},{"lodash._root":29}],31:[function(t,e,n){function o(t){return d[t]}function r(t){return!!t&&"object"==typeof t}function i(t){return"symbol"==typeof t||r(t)&&v.call(t)==c}function a(t){if("string"==typeof t)return t;if(null==t)return"";if(i(t))return m?g.call(t):"";var e=t+"";return"0"==e&&1/t==-l?"-0":e}function s(t){return t=a(t),t&&p.test(t)?t.replace(f,o):t}var u=t("lodash._root"),l=1/0,c="[object Symbol]",f=/[&<>"'`]/g,p=RegExp(f.source),d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},h=Object.prototype,v=h.toString,m=u.Symbol,y=m?m.prototype:void 0,g=m?y.toString:void 0;e.exports=s},{"lodash._root":29}],32:[function(t,e,n){function o(t,e){return i(t,e,s)}function r(t){return function(e,n,o){return("function"!=typeof n||void 0!==o)&&(n=a(n,o,3)),t(e,n)}}var i=t("lodash._basefor"),a=t("lodash._bindcallback"),s=t("lodash.keys"),u=r(o);e.exports=u},{"lodash._basefor":22,"lodash._bindcallback":25,"lodash.keys":36}],33:[function(t,e,n){function o(t){return function(e){return null==e?void 0:e[t]}}function r(t){return a(t)&&m.call(t,"callee")&&(!g.call(t,"callee")||y.call(t)==p)}function i(t){return null!=t&&u(_(t))&&!s(t)}function a(t){return c(t)&&i(t)}function s(t){var e=l(t)?y.call(t):"";return e==d||e==h}function u(t){return"number"==typeof t&&t>-1&&t%1==0&&f>=t}function l(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function c(t){return!!t&&"object"==typeof t}var f=9007199254740991,p="[object Arguments]",d="[object Function]",h="[object GeneratorFunction]",v=Object.prototype,m=v.hasOwnProperty,y=v.toString,g=v.propertyIsEnumerable,_=o("length");e.exports=r},{}],34:[function(t,e,n){function o(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return u(n)?n:void 0}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&g>=t}function a(t){return s(t)&&v.call(t)==c}function s(t){var e=typeof t;
return!!t&&("object"==e||"function"==e)}function u(t){return null==t?!1:a(t)?m.test(d.call(t)):o(t)&&f.test(t)}var l="[object Array]",c="[object Function]",f=/^\[object .+?Constructor\]$/,p=Object.prototype,d=Function.prototype.toString,h=p.hasOwnProperty,v=p.toString,m=RegExp("^"+d.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),y=r(Array,"isArray"),g=9007199254740991,_=y||function(t){return o(t)&&i(t.length)&&v.call(t)==l};e.exports=_},{}],35:[function(t,e,n){function o(t,e,n,o){var r=-1,i=t.length;for(o&&i&&(n=t[++r]);++r<i;)n=e(n,t[r],r,t);return n}function r(t){return function(e){return o(a(i(e)),t,"")}}var i=t("lodash.deburr"),a=t("lodash.words"),s=r(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()});e.exports=s},{"lodash.deburr":30,"lodash.words":39}],36:[function(t,e,n){function o(t){return function(e){return null==e?void 0:e[t]}}function r(t){return null!=t&&a(g(t))}function i(t,e){return t="number"==typeof t||d.test(t)?+t:-1,e=null==e?y:e,t>-1&&t%1==0&&e>t}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&y>=t}function s(t){for(var e=l(t),n=e.length,o=n&&t.length,r=!!o&&a(o)&&(p(t)||f(t)),s=-1,u=[];++s<n;){var c=e[s];(r&&i(c,o)||v.call(t,c))&&u.push(c)}return u}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function l(t){if(null==t)return[];u(t)||(t=Object(t));var e=t.length;e=e&&a(e)&&(p(t)||f(t))&&e||0;for(var n=t.constructor,o=-1,r="function"==typeof n&&n.prototype===t,s=Array(e),l=e>0;++o<e;)s[o]=o+"";for(var c in t)l&&i(c,e)||"constructor"==c&&(r||!v.call(t,c))||s.push(c);return s}var c=t("lodash._getnative"),f=t("lodash.isarguments"),p=t("lodash.isarray"),d=/^\d+$/,h=Object.prototype,v=h.hasOwnProperty,m=c(Object,"keys"),y=9007199254740991,g=o("length"),_=m?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&r(t)?s(t):u(t)?m(t):[]}:s;e.exports=_},{"lodash._getnative":28,"lodash.isarguments":33,"lodash.isarray":34}],37:[function(t,e,n){function o(t,e){if("function"!=typeof t)throw new TypeError(r);return e=i(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,o=-1,r=i(n.length-e,0),a=Array(r);++o<r;)a[o]=n[e+o];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}var s=Array(e+1);for(o=-1;++o<e;)s[o]=n[o];return s[e]=a,t.apply(this,s)}}var r="Expected a function",i=Math.max;e.exports=o},{}],38:[function(t,e,n){var o=t("lodash._baseflatten"),r=t("lodash._baseuniq"),i=t("lodash.restparam"),a=i(function(t){return r(o(t,!1,!0))});e.exports=a},{"lodash._baseflatten":21,"lodash._baseuniq":24,"lodash.restparam":37}],39:[function(t,e,n){function o(t){return!!t&&"object"==typeof t}function r(t){return"symbol"==typeof t||o(t)&&G.call(t)==l}function i(t){if("string"==typeof t)return t;if(null==t)return"";if(r(t))return W?X.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}function a(t,e,n){return t=i(t),e=n?void 0:e,void 0===e&&(e=V.test(t)?U:B),t.match(e)||[]}var s=t("lodash._root"),u=1/0,l="[object Symbol]",c="\\ud800-\\udfff",f="\\u0300-\\u036f\\ufe20-\\ufe23",p="\\u20d0-\\u20f0",d="\\u2700-\\u27bf",h="a-z\\xdf-\\xf6\\xf8-\\xff",v="\\xac\\xb1\\xd7\\xf7",m="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",y="\\u2018\\u2019\\u201c\\u201d",g=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_="A-Z\\xc0-\\xd6\\xd8-\\xde",b="\\ufe0e\\ufe0f",w=v+m+y+g,x="["+w+"]",S="["+f+p+"]",E="\\d+",O="["+d+"]",k="["+h+"]",M="[^"+c+w+E+d+h+_+"]",j="\\ud83c[\\udffb-\\udfff]",C="(?:"+S+"|"+j+")",D="[^"+c+"]",T="(?:\\ud83c[\\udde6-\\uddff]){2}",N="[\\ud800-\\udbff][\\udc00-\\udfff]",A="["+_+"]",L="\\u200d",F="(?:"+k+"|"+M+")",P="(?:"+A+"|"+M+")",I=C+"?",R="["+b+"]?",$="(?:"+L+"(?:"+[D,T,N].join("|")+")"+R+I+")*",H=R+I+$,q="(?:"+[O,T,N].join("|")+")"+H,B=/[a-zA-Z0-9]+/g,U=RegExp([A+"?"+k+"+(?="+[x,A,"$"].join("|")+")",P+"+(?="+[x,A+F,"$"].join("|")+")",A+"?"+F+"+",A+"+",E,q].join("|"),"g"),V=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,z=Object.prototype,G=z.toString,W=s.Symbol,Z=W?W.prototype:void 0,X=W?Z.toString:void 0;e.exports=a},{"lodash._root":29}],40:[function(t,e,n){"use strict";function o(t,e){if(i)return i.call(t,e);for(var n=t.parentNode.querySelectorAll(e),o=0;o<n.length;o++)if(n[o]==t)return!0;return!1}var r=Element.prototype,i=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;e.exports=o},{}],41:[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e=(0,a["default"])(t.sel),n=e.className;if(!t.data)return n;var o=t.data,r=o["class"],i=o.props;if(r){var s=Object.keys(t.data["class"]).filter(function(e){return t.data["class"][e]});n+=" "+s.join(" ")}return i&&i.className&&(n+=" "+i.className),n.trim()}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var i=t("./selectorParser"),a=o(i)},{"./selectorParser":42}],42:[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=void 0,n="",o=[],r=(0,a["default"])(t,s);(u.test(r[1])||""===t)&&(e="div");var i=void 0,l=void 0,c=void 0;for(c=0;c<r.length;c++)i=r[c],i&&(l=i.charAt(0),e?"."===l?o.push(i.substring(1,i.length)):"#"===l&&(n=i.substring(1,i.length)):e=i);return{tagName:e,id:n,className:o.join(" ")}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var i=t("browser-split"),a=o(i),s=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,u=/^\.|#/},{"browser-split":20}],43:[function(t,e,n){e.exports={a:!0,defs:!0,glyph:!0,g:!0,marker:!0,mask:!0,"missing-glyph":!0,pattern:!0,svg:!0,"switch":!0,symbol:!0,desc:!0,metadata:!0,title:!0}},{}],44:[function(t,e,n){var o=t("./init");e.exports=o([t("./modules/attributes"),t("./modules/style")])},{"./init":45,"./modules/attributes":46,"./modules/style":47}],45:[function(t,e,n){var o=t("./parse-selector"),r=t("./void-elements"),i=t("./container-elements");e.exports=function(t){function e(e){return t.reduce(function(t,n){return t.push(n(e)),t},[]).filter(function(t){return""!==t})}return function n(t){if(!t.sel&&t.text)return t.text;t.data=t.data||{},"string"==typeof t.sel&&"thunk"===t.sel.slice(0,5)&&(t=t.data.fn.apply(null,t.data.args));var a=o(t.sel).tagName,s=e(t),u="http://www.w3.org/2000/svg"===t.data.ns,l=[];return l.push("<"+a),s.length&&l.push(" "+s.join(" ")),u&&i[a]!==!0&&l.push(" /"),l.push(">"),(r[a]!==!0&&!u||u&&i[a]===!0)&&(t.data.props&&t.data.props.innerHTML?l.push(t.data.props.innerHTML):t.text?l.push(t.text):t.children&&t.children.forEach(function(t){l.push(n(t))}),l.push("</"+a+">")),l.join("")}}},{"./container-elements":43,"./parse-selector":48,"./void-elements":49}],46:[function(t,e,n){function o(t,e){r(t,function(t,n){return"htmlFor"===n?void(e["for"]=t):"className"===n?void(e["class"]=t.split(" ")):void("innerHTML"!==n&&(e[n]=t))})}var r=t("lodash.forown"),i=t("lodash.escape"),a=t("lodash.union"),s=t("../parse-selector");e.exports=function u(t){var e=s(t.sel),n=e.className.split(" "),u=[],l=[],c={};return e.id&&(c.id=e.id),o(t.data.props,c),o(t.data.attrs,c),t.data["class"]&&(c["class"]=void 0),r(t.data["class"],function(t,e){t===!0&&l.push(e)}),l=a(l,c["class"],n).filter(function(t){return""!==t}),l.length&&(c["class"]=l.join(" ")),r(c,function(t,e){u.push(t===!0?e:e+'="'+i(t)+'"')}),u.length?u.join(" "):""}},{"../parse-selector":48,"lodash.escape":31,"lodash.forown":32,"lodash.union":38}],47:[function(t,e,n){var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},r=t("lodash.forown"),i=t("lodash.escape"),a=t("lodash.kebabcase");e.exports=function s(t){var e=[],s=t.data.style||{};return s.delayed&&o(s,s.delayed),r(s,function(t,n){"string"==typeof t&&e.push(a(n)+": "+i(t))}),e.length?'style="'+e.join("; ")+'"':""}},{"lodash.escape":31,"lodash.forown":32,"lodash.kebabcase":35}],48:[function(t,e,n){var o=t("browser-split"),r=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,i=/^\.|#/;e.exports=function(t,e){t=t||"";var n,a="",s=[],u=o(t,r);(i.test(u[1])||""===t)&&(n="div");var l,c,f;for(f=0;f<u.length;f++)l=u[f],l&&(c=l.charAt(0),n?"."===c?s.push(l.substring(1,l.length)):"#"===c&&(a=l.substring(1,l.length)):n=l);return{tagName:e===!0?n.toUpperCase():n,id:a,className:s.join(" ")}}},{"browser-split":20}],49:[function(t,e,n){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},{}],50:[function(t,e,n){function o(t,e){if(t.ns="http://www.w3.org/2000/svg",void 0!==e)for(var n=0;n<e.length;++n)o(e[n].data,e[n].children)}var r=t("./vnode"),i=t("./is");e.exports=function(t,e,n){var a,s,u,l={};if(3===arguments.length?(l=e,i.array(n)?a=n:i.primitive(n)&&(s=n)):2===arguments.length&&(i.array(e)?a=e:i.primitive(e)?s=e:l=e),i.array(a))for(u=0;u<a.length;++u)i.primitive(a[u])&&(a[u]=r(void 0,void 0,void 0,a[u]));return"s"===t[0]&&"v"===t[1]&&"g"===t[2]&&o(l,a),r(t,l,a,s,void 0)}},{"./is":52,"./vnode":61}],51:[function(t,e,n){function o(t){return document.createElement(t)}function r(t,e){return document.createElementNS(t,e)}function i(t){return document.createTextNode(t)}function a(t,e,n){t.insertBefore(e,n)}function s(t,e){t.removeChild(e)}function u(t,e){t.appendChild(e)}function l(t){return t.parentElement}function c(t){return t.nextSibling}function f(t){return t.tagName}function p(t,e){t.textContent=e}e.exports={createElement:o,createElementNS:r,createTextNode:i,appendChild:u,removeChild:s,insertBefore:a,parentNode:l,nextSibling:c,tagName:f,setTextContent:p}},{}],52:[function(t,e,n){e.exports={array:Array.isArray,primitive:function(t){return"string"==typeof t||"number"==typeof t}}},{}],53:[function(t,e,n){function o(t,e){var n,o,r,a=e.elm,s=t.data.attrs||{},u=e.data.attrs||{};for(n in u)o=u[n],r=s[n],r!==o&&(!o&&i[n]?a.removeAttribute(n):a.setAttribute(n,o));for(n in s)n in u||a.removeAttribute(n)}for(var r=["allowfullscreen","async","autofocus","autoplay","checked","compact","controls","declare","default","defaultchecked","defaultmuted","defaultselected","defer","disabled","draggable","enabled","formnovalidate","hidden","indeterminate","inert","ismap","itemscope","loop","multiple","muted","nohref","noresize","noshade","novalidate","nowrap","open","pauseonexit","readonly","required","reversed","scoped","seamless","selected","sortable","spellcheck","translate","truespeed","typemustmatch","visible"],i={},a=0,s=r.length;s>a;a++)i[r[a]]=!0;e.exports={create:o,update:o}},{}],54:[function(t,e,n){function o(t,e){var n,o,r=e.elm,i=t.data["class"]||{},a=e.data["class"]||{};for(o in i)a[o]||r.classList.remove(o);for(o in a)n=a[o],n!==i[o]&&r.classList[n?"add":"remove"](o)}e.exports={create:o,update:o}},{}],55:[function(t,e,n){function o(t){return function(){2===t.length?t[0](t[1]):t[0].apply(void 0,t.slice(1))}}function r(t){return function(e){t.fn(e)}}function i(t,e){var n,i,s,u=e.elm,l=t.data.on||{},c=e.data.on;if(c)for(n in c)if(i=c[n],s=l[n],void 0===s)a.array(i)?u.addEventListener(n,o(i)):(i={fn:i},c[n]=i,u.addEventListener(n,r(i)));else if(a.array(s)){s.length=i.length;for(var f=0;f<s.length;++f)s[f]=i[f];c[n]=s}else s.fn=i,c[n]=s}var a=t("../is");e.exports={create:i,update:i}},{"../is":52}],56:[function(t,e,n){function o(t,e,n){m(function(){t[e]=n})}function r(t){var e;if(document.createRange){var n=document.createRange();n.selectNodeContents(t),n.getBoundingClientRect&&(e=n.getBoundingClientRect())}return e}function i(t,e,n){if(t&&e){var o=e.left+e.width/2-n.left,r=e.top+e.height/2-n.top;return o+"px "+r+"px"}return"0 0"}function a(t,e){return t&&e?t.left+t.width/2-(e.left+e.width/2):0}function s(t,e){return t&&e?t.top+t.height/2-(e.top+e.height/2):0}function u(t){return 1===t.childNodes.length&&3===t.childNodes[0].nodeType}function l(t,e){d={},h=[]}function c(t,e){var n=e.data.hero;n&&n.id&&(h.push(n.id),h.push(e))}function f(t){var e=t.data.hero;if(e&&e.id){var n=t.elm;t.isTextNode=u(n),t.boundingRect=n.getBoundingClientRect(),t.textRect=t.isTextNode?r(n.childNodes[0]):null;var o=window.getComputedStyle(n,null);t.savedStyle=JSON.parse(JSON.stringify(o)),d[e.id]=t}}function p(){var t,e,n,l,c,f,p,v,m,y,g,_,b,w,x,S,E,O,k;for(t=0;t<h.length;t+=2)if(e=h[t],n=h[t+1].elm,l=d[e]){E=l.isTextNode&&u(n),w=n.style,S=window.getComputedStyle(n,null),c=l.elm,x=c.style,m=n.getBoundingClientRect(),v=l.boundingRect,E?(O=r(n.childNodes[0]),k=l.textRect,y=a(k,O),g=s(k,O)):(y=v.left-m.left,g=v.top-m.top),f=m.height/Math.max(v.height,1),p=E?f:m.width/Math.max(v.width,1),_=w.transform,b=w.transition,"inline"===S.display&&(w.display="inline-block"),w.transition=b+"transform 0s",w.transformOrigin=i(E,O,m),w.opacity="0",w.transform=_+"translate("+y+"px, "+g+"px) scale("+1/p+", "+1/f+")",o(w,"transition",b),o(w,"transform",_),o(w,"opacity","1");for(var M in l.savedStyle)if(parseInt(M)!=M){var j="ms"===M.substring(0,2),C="moz"===M.substring(0,3),D="webkit"===M.substring(0,6);j||C||D||(x[M]=l.savedStyle[M])}x.position="absolute",x.top=v.top+"px",x.left=v.left+"px",x.width=v.width+"px",x.height=v.height+"px",x.margin=0,x.transformOrigin=i(E,k,v),x.transform="",x.opacity="1",document.body.appendChild(c),o(x,"transform","translate("+-y+"px, "+-g+"px) scale("+p+", "+f+")"),o(x,"opacity","0"),c.addEventListener("transitionend",function(t){"transform"===t.propertyName&&document.body.removeChild(t.target)})}d=h=void 0}var d,h,v="undefined"!=typeof window&&window.requestAnimationFrame||setTimeout,m=function(t){v(function(){v(t)})};e.exports={pre:l,create:c,destroy:f,post:p}},{}],57:[function(t,e,n){function o(t,e){var n,o,r,i=e.elm,a=t.data.props||{},s=e.data.props||{};for(n in a)s[n]||delete i[n];for(n in s)o=s[n],r=a[n],r===o||"value"===n&&i[n]===o||(i[n]=o)}e.exports={create:o,update:o}},{}],58:[function(t,e,n){function o(t,e,n){u(function(){t[e]=n})}function r(t,e){var n,r,i=e.elm,a=t.data.style||{},s=e.data.style||{},u="delayed"in a;for(r in a)s[r]||(i.style[r]="");for(r in s)if(n=s[r],"delayed"===r)for(r in s.delayed)n=s.delayed[r],u&&n===a.delayed[r]||o(i.style,r,n);else"remove"!==r&&n!==a[r]&&(i.style[r]=n)}function i(t){var e,n,o=t.elm,r=t.data.style;if(r&&(e=r.destroy))for(n in e)o.style[n]=e[n]}function a(t,e){var n=t.data.style;if(!n||!n.remove)return void e();var o,r,i=t.elm,a=0,s=n.remove,u=0,l=[];for(o in s)l.push(o),i.style[o]=s[o];r=getComputedStyle(i);for(var c=r["transition-property"].split(", ");a<c.length;++a)-1!==l.indexOf(c[a])&&u++;i.addEventListener("transitionend",function(t){t.target===i&&--u,0===u&&e()})}var s="undefined"!=typeof window&&window.requestAnimationFrame||setTimeout,u=function(t){s(function(){s(t)})};e.exports={create:r,update:r,destroy:i,remove:a}},{}],59:[function(t,e,n){"use strict";function o(t){return void 0===t}function r(t){return void 0!==t}function i(t,e){return t.key===e.key&&t.sel===e.sel}function a(t,e,n){var o,i,a={};for(o=e;n>=o;++o)i=t[o].key,r(i)&&(a[i]=o);return a}function s(t,e){function n(t){return u(e.tagName(t).toLowerCase(),{},[],void 0,t)}function s(t,n){return function(){if(0===--n){var o=e.parentNode(t);e.removeChild(o,t)}}}function d(t,n){var o,i,a=t.data;r(a)&&(r(o=a.hook)&&r(o=o.init)&&o(t),r(o=a.vnode)&&(i=t,t=o));var s,u=t.children,c=t.sel;if(r(c)){var p=c.indexOf("#"),h=c.indexOf(".",p),v=p>0?p:c.length,m=h>0?h:c.length,y=-1!==p||-1!==h?c.slice(0,Math.min(v,m)):c;if(s=t.elm=r(a)&&r(o=a.ns)?e.createElementNS(o,y):e.createElement(y),m>v&&(s.id=c.slice(v+1,m)),h>0&&(s.className=c.slice(m+1).replace(/\./g," ")),l.array(u))for(o=0;o<u.length;++o)e.appendChild(s,d(u[o],n));else l.primitive(t.text)&&e.appendChild(s,e.createTextNode(t.text));for(o=0;o<w.create.length;++o)w.create[o](f,t);o=t.data.hook,r(o)&&(o.create&&o.create(f,t),o.insert&&n.push(t))}else s=t.elm=e.createTextNode(t.text);return r(i)&&(i.elm=t.elm),t.elm}function h(t,n,o,r,i,a){for(;i>=r;++r)e.insertBefore(t,d(o[r],a),n)}function v(t){var e,n,o=t.data;if(r(o)){for(r(e=o.hook)&&r(e=e.destroy)&&e(t),e=0;e<w.destroy.length;++e)w.destroy[e](t);if(r(e=t.children))for(n=0;n<t.children.length;++n)v(t.children[n]);r(e=o.vnode)&&v(e)}}function m(t,n,o,i){for(;i>=o;++o){var a,u,l,c=n[o];if(r(c))if(r(c.sel)){for(v(c),u=w.remove.length+1,l=s(c.elm,u),a=0;a<w.remove.length;++a)w.remove[a](c,l);r(a=c.data)&&r(a=a.hook)&&r(a=a.remove)?a(c,l):l()}else e.removeChild(t,c.elm)}}function y(t,n,r,s){for(var u,l,c,f,p=0,v=0,y=n.length-1,_=n[0],b=n[y],w=r.length-1,x=r[0],S=r[w];y>=p&&w>=v;)o(_)?_=n[++p]:o(b)?b=n[--y]:i(_,x)?(g(_,x,s),_=n[++p],x=r[++v]):i(b,S)?(g(b,S,s),b=n[--y],S=r[--w]):i(_,S)?(g(_,S,s),e.insertBefore(t,_.elm,e.nextSibling(b.elm)),_=n[++p],S=r[--w]):i(b,x)?(g(b,x,s),e.insertBefore(t,b.elm,_.elm),b=n[--y],x=r[++v]):(o(u)&&(u=a(n,p,y)),l=u[x.key],o(l)?(e.insertBefore(t,d(x,s),_.elm),x=r[++v]):(c=n[l],g(c,x,s),n[l]=void 0,e.insertBefore(t,c.elm,_.elm),x=r[++v]));p>y?(f=o(r[w+1])?null:r[w+1].elm,h(t,f,r,v,w,s)):v>w&&m(t,n,p,y)}function g(t,n,a){var s,u;if(r(s=n.data)&&r(u=s.hook)&&r(s=u.prepatch)&&s(t,n),r(s=t.data)&&r(s=s.vnode)&&(t=s),r(s=n.data)&&r(s=s.vnode))return g(t,s,a),void(n.elm=s.elm);var l=n.elm=t.elm,c=t.children,f=n.children;if(t!==n){if(!i(t,n)){var p=e.parentNode(t.elm);return l=d(n,a),e.insertBefore(p,l,t.elm),void m(p,[t],0,0)}if(r(n.data)){for(s=0;s<w.update.length;++s)w.update[s](t,n);s=n.data.hook,r(s)&&r(s=s.update)&&s(t,n)}o(n.text)?r(c)&&r(f)?c!==f&&y(l,c,f,a):r(f)?(r(t.text)&&e.setTextContent(l,""),h(l,null,f,0,f.length-1,a)):r(c)?m(l,c,0,c.length-1):r(t.text)&&e.setTextContent(l,""):t.text!==n.text&&e.setTextContent(l,n.text),r(u)&&r(s=u.postpatch)&&s(t,n)}}var _,b,w={};for(o(e)&&(e=c),_=0;_<p.length;++_)for(w[p[_]]=[],b=0;b<t.length;++b)void 0!==t[b][p[_]]&&w[p[_]].push(t[b][p[_]]);return function(t,r){var a,s,u,l=[];for(a=0;a<w.pre.length;++a)w.pre[a]();for(o(t.sel)&&(t=n(t)),i(t,r)?g(t,r,l):(s=t.elm,u=e.parentNode(s),d(r,l),null!==u&&(e.insertBefore(u,r.elm,e.nextSibling(s)),m(u,[t],0,0))),a=0;a<l.length;++a)l[a].data.hook.insert(l[a]);for(a=0;a<w.post.length;++a)w.post[a]();return r}}var u=t("./vnode"),l=t("./is"),c=t("./htmldomapi.js"),f=u("",{},[],void 0,void 0),p=["create","update","remove","destroy","pre","post"];e.exports={init:s}},{"./htmldomapi.js":51,"./is":52,"./vnode":61}],60:[function(t,e,n){function o(t){var e=t.data;e.vnode=e.fn.apply(void 0,e.args)}function r(t,e){var n,o=t.data,r=e.data,i=o.args,a=r.args;if(r.vnode=o.vnode,o.fn!==r.fn||i.length!==a.length)return void(r.vnode=r.fn.apply(void 0,a));for(n=0;n<a.length;++n)if(i[n]!==a[n])return void(r.vnode=r.fn.apply(void 0,a))}var i=t("./h");e.exports=function(t,e){var n,a=[];for(n=2;n<arguments.length;++n)a[n-2]=arguments[n];return i("thunk"+t,{hook:{init:o,prepatch:r},fn:e,args:a})}},{"./h":50}],61:[function(t,e,n){e.exports=function(t,e,n,o,r){var i=void 0===e?void 0:e.key;return{sel:t,data:e,children:n,text:o,elm:r,key:i}}},{}],62:[function(t,e,n){"use strict";function o(){}function r(t){for(var e=t.length,n=Array(e),o=0;e>o;++o)n[o]=t[o];return n}function i(t){t._start=function(t){t.next=t._n,t.error=t._e,t.complete=t._c,this.start(t)},t._stop=t.stop}function a(t,e){switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3]);case 5:return t(e[0],e[1],e[2],e[3],e[4]);default:return t.apply(void 0,e)}}function s(t,e){return function(n){return t(e(n))}}function u(t,e){return function(n){return t(n)&&e(n)}}var l=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c={};n.emptyListener={_n:o,_e:o,_c:o};var f=function(){function t(t,e){this.i=t,this.p=e,e.ils.push(this)}return t.prototype._n=function(t){var e=this.p,n=e.out;if(n&&e.up(t,this.i))try{n._n(a(e.project,e.vals))}catch(o){n._e(o)}},t.prototype._e=function(t){var e=this.p.out;e&&e._e(t)},t.prototype._c=function(){var t=this.p;t.out&&0===--t.ac&&t.out._c()},t}();n.CombineListener=f;var p=function(){function t(t,e){this.project=t,this.streams=e,this.type="combine",this.out=n.emptyListener,this.ils=[];for(var o=this.ac=this.left=e.length,r=this.vals=new Array(o),i=0;o>i;i++)r[i]=c}return t.prototype.up=function(t,e){var n=this.vals[e],o=this.left?n===c?--this.left:this.left:0;return this.vals[e]=t,0===o},t.prototype._start=function(t){this.out=t;var e=this.streams,n=e.length;if(0===n)this.zero(t);else for(var o=0;n>o;o++)e[o]._add(new f(o,this))},t.prototype._stop=function(){for(var t=this.streams,e=this.ac=this.left=t.length,n=this.vals=new Array(e),o=0;e>o;o++)t[o]._remove(this.ils[o]),n[o]=c;this.out=null,this.ils=[]},t.prototype.zero=function(t){try{t._n(this.project()),t._c()}catch(e){t._e(e)}},t}();n.CombineProducer=p;var d=function(){function t(t){this.a=t,this.type="fromArray"}return t.prototype._start=function(t){for(var e=this.a,n=0,o=e.length;o>n;n++)t._n(e[n]);t._c()},t.prototype._stop=function(){},t}();n.FromArrayProducer=d;var h=function(){function t(t){this.p=t,this.type="fromPromise",this.on=!1}return t.prototype._start=function(t){var e=this;this.on=!0,this.p.then(function(n){e.on&&(t._n(n),t._c())},function(e){t._e(e)}).then(null,function(t){setTimeout(function(){throw t})})},t.prototype._stop=function(){this.on=!1},t}();n.FromPromiseProducer=h;var v=function(){function t(t){this.streams=t,this.type="merge",this.out=n.emptyListener,this.ac=t.length}return t.prototype._start=function(t){this.out=t;for(var e=this.streams,n=e.length,o=0;n>o;o++)e[o]._add(this)},t.prototype._stop=function(){for(var t=this.streams,e=t.length,n=0;e>n;n++)t[n]._remove(this);this.out=null,this.ac=e},t.prototype._n=function(t){var e=this.out;e&&e._n(t)},t.prototype._e=function(t){var e=this.out;e&&e._e(t)},t.prototype._c=function(){if(0===--this.ac){var t=this.out;if(!t)return;t._c()}},t}();n.MergeProducer=v;var m=function(){function t(t){this.period=t,this.type="periodic",this.intervalID=-1,this.i=0}return t.prototype._start=function(t){function e(){t._n(n.i++)}var n=this;this.intervalID=setInterval(e,this.period)},t.prototype._stop=function(){-1!==this.intervalID&&clearInterval(this.intervalID),this.intervalID=-1,this.i=0},t}();n.PeriodicProducer=m;var y=function(){function t(t,e){void 0===t&&(t=null),this.spy=t,this.ins=e,this.type="debug",this.out=null}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=null},t.prototype._n=function(t){var e=this.out;if(e){var n=this.spy;if(n)try{n(t)}catch(o){e._e(o)}else console.log(t);e._n(t)}},t.prototype._e=function(t){var e=this.out;e&&e._e(t)},t.prototype._c=function(){var t=this.out;t&&t._c()},t}();n.DebugOperator=y;var g=function(){function t(t,e){this.max=t,this.ins=e,this.type="drop",this.out=null,this.dropped=0}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=null,this.dropped=0},t.prototype._n=function(t){var e=this.out;e&&this.dropped++>=this.max&&e._n(t)},t.prototype._e=function(t){var e=this.out;e&&e._e(t)},t.prototype._c=function(){var t=this.out;t&&t._c()},t}();n.DropOperator=g;var _=function(){function t(t,e){this.out=t,this.op=e}return t.prototype._n=function(t){this.op.end()},t.prototype._e=function(t){this.out._e(t)},t.prototype._c=function(){this.op.end()},t}(),b=function(){function t(t,e){this.o=t,this.ins=e,this.type="endWhen",this.out=null,this.oil=n.emptyListener}return t.prototype._start=function(t){this.out=t,this.o._add(this.oil=new _(t,this)),this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.o._remove(this.oil),this.out=null,this.oil=null},t.prototype.end=function(){var t=this.out;t&&t._c()},t.prototype._n=function(t){var e=this.out;e&&e._n(t)},t.prototype._e=function(t){var e=this.out;e&&e._e(t)},t.prototype._c=function(){this.end()},t}();n.EndWhenOperator=b;var w=function(){function t(t,e){this.passes=t,this.ins=e,this.type="filter",this.out=null}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=null},t.prototype._n=function(t){var e=this.out;if(e)try{this.passes(t)&&e._n(t)}catch(n){e._e(n)}},t.prototype._e=function(t){var e=this.out;e&&e._e(t)},t.prototype._c=function(){var t=this.out;t&&t._c()},t}();n.FilterOperator=w;var x=function(){function t(t,e){this.out=t,this.op=e}return t.prototype._n=function(t){this.out._n(t)},t.prototype._e=function(t){this.out._e(t)},t.prototype._c=function(){this.op.less()},t}(),S=function(){function t(t){this.ins=t,this.type="flattenConcurrently",this.active=1,this.out=null}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.active=1,this.out=null},t.prototype.less=function(){if(0===--this.active){var t=this.out;if(!t)return;t._c()}},t.prototype._n=function(t){var e=this.out;e&&(this.active++,t._add(new x(e,this)))},t.prototype._e=function(t){var e=this.out;e&&e._e(t)},t.prototype._c=function(){this.less()},t}();n.FlattenConcOperator=S;var E=function(){function t(t,e){this.out=t,this.op=e}return t.prototype._n=function(t){this.out._n(t)},t.prototype._e=function(t){this.out._e(t)},t.prototype._c=function(){this.op.inner=null,this.op.less()},t}(),O=function(){function t(t){this.ins=t,this.type="flatten",this.inner=null,this.il=null,this.open=!0,this.out=null}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.inner=null,this.il=null,this.open=!0,this.out=null},t.prototype.less=function(){var t=this.out;t&&(this.open||this.inner||t._c())},t.prototype._n=function(t){var e=this.out;if(e){var n=this,o=n.inner,r=n.il;o&&r&&o._remove(r),(this.inner=t)._add(this.il=new E(e,this))}},t.prototype._e=function(t){var e=this.out;e&&e._e(t)},t.prototype._c=function(){this.open=!1,this.less()},t}();n.FlattenOperator=O;var k=function(){function t(t,e,n){this.f=t,this.seed=e,this.ins=n,this.type="fold",this.out=null,this.acc=e}return t.prototype._start=function(t){this.out=t,t._n(this.acc),this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=null,this.acc=this.seed},t.prototype._n=function(t){var e=this.out;if(e)try{e._n(this.acc=this.f(this.acc,t))}catch(n){e._e(n)}},t.prototype._e=function(t){var e=this.out;e&&e._e(t)},t.prototype._c=function(){var t=this.out;t&&t._c()},t}();n.FoldOperator=k;var M=function(){function t(t){this.ins=t,this.type="last",this.out=null,this.has=!1,this.val=c}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=null,this.has=!1,this.val=c},t.prototype._n=function(t){this.has=!0,this.val=t},t.prototype._e=function(t){var e=this.out;e&&e._e(t)},t.prototype._c=function(){var t=this.out;t&&(this.has?(t._n(this.val),t._c()):t._e("TODO show proper error"))},t}();n.LastOperator=M;var j=function(){function t(t,e){this.out=t,this.op=e}return t.prototype._n=function(t){this.out._n(t)},t.prototype._e=function(t){this.out._e(t)},t.prototype._c=function(){this.op.less()},t}(),C=function(){function t(t){this.mapOp=t,this.active=1,this.out=null,this.type=t.type+"+flattenConcurrently",this.ins=t.ins}return t.prototype._start=function(t){this.out=t,this.mapOp.ins._add(this)},t.prototype._stop=function(){this.mapOp.ins._remove(this),this.active=1,this.out=null},t.prototype.less=function(){if(0===--this.active){var t=this.out;if(!t)return;t._c()}},t.prototype._n=function(t){var e=this.out;if(e){this.active++;try{this.mapOp.project(t)._add(new j(e,this))}catch(n){e._e(n)}}},t.prototype._e=function(t){var e=this.out;e&&e._e(t)},t.prototype._c=function(){this.less()},t}();n.MapFlattenConcOperator=C;var D=function(){function t(t,e){this.out=t,this.op=e}return t.prototype._n=function(t){this.out._n(t)},t.prototype._e=function(t){this.out._e(t)},t.prototype._c=function(){this.op.inner=null,this.op.less()},t}(),T=function(){function t(t){this.mapOp=t,this.inner=null,this.il=null,this.open=!0,this.out=null,this.type=t.type+"+flatten",this.ins=t.ins}return t.prototype._start=function(t){this.out=t,this.mapOp.ins._add(this)},t.prototype._stop=function(){this.mapOp.ins._remove(this),this.inner=null,this.il=null,this.open=!0,this.out=null},t.prototype.less=function(){if(!this.open&&!this.inner){var t=this.out;if(!t)return;t._c()}},t.prototype._n=function(t){var e=this.out;if(e){var n=this,o=n.inner,r=n.il;o&&r&&o._remove(r);try{(this.inner=this.mapOp.project(t))._add(this.il=new D(e,this))}catch(i){e._e(i)}}},t.prototype._e=function(t){var e=this.out;e&&e._e(t)},t.prototype._c=function(){this.open=!1,this.less()},t}();n.MapFlattenOperator=T;var N=function(){function t(t,e){this.project=t,this.ins=e,this.type="map",this.out=null}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=null},t.prototype._n=function(t){var e=this.out;if(e)try{e._n(this.project(t))}catch(n){e._e(n)}},t.prototype._e=function(t){var e=this.out;e&&e._e(t)},t.prototype._c=function(){var t=this.out;t&&t._c()},t}();n.MapOperator=N;var A=function(t){function e(e,n,o){t.call(this,n,o),this.passes=e,this.type="filter+map"}return l(e,t),e.prototype._n=function(e){this.passes(e)&&t.prototype._n.call(this,e)},e}(N);n.FilterMapOperator=A;var L=function(){function t(t,e){this.fn=t,this.ins=e,this.type="replaceError",this.out=c}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=null},t.prototype._n=function(t){var e=this.out;e&&e._n(t)},t.prototype._e=function(t){var e=this.out;if(e)try{this.ins._remove(this),(this.ins=this.fn(t))._add(this)}catch(n){e._e(n)}},t.prototype._c=function(){var t=this.out;t&&t._c()},t}();n.ReplaceErrorOperator=L;var F=function(){function t(t,e){this.ins=t,this.value=e,this.type="startWith",this.out=n.emptyListener}return t.prototype._start=function(t){this.out=t,this.out._n(this.value),this.ins._add(t)},t.prototype._stop=function(){this.ins._remove(this.out),this.out=null},t}();n.StartWithOperator=F;var P=function(){function t(t,e){this.max=t,this.ins=e,this.type="take",this.out=null,this.taken=0}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=null,this.taken=0},t.prototype._n=function(t){var e=this.out;e&&(this.taken++<this.max-1?e._n(t):(e._n(t),e._c(),this._stop()))},t.prototype._e=function(t){var e=this.out;e&&e._e(t)},t.prototype._c=function(){var t=this.out;t&&t._c()},t}();n.TakeOperator=P;var I=function(){function t(e){this._stopID=c,this.combine=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return n.unshift(this),t.combine.apply(t,[e].concat(n))},this._prod=e,this._ils=[]}return t.prototype._n=function(t){var e=this._ils,n=e.length;if(1==n)e[0]._n(t);else for(var o=r(e),i=0;n>i;i++)o[i]._n(t)},t.prototype._e=function(t){var e=this._ils,n=e.length;if(1==n)e[0]._e(t);else for(var o=r(e),i=0;n>i;i++)o[i]._e(t);this._x()},t.prototype._c=function(){var t=this._ils,e=t.length;if(1==e)t[0]._c();else for(var n=r(t),o=0;e>o;o++)n[o]._c();this._x()},t.prototype._x=function(){0!==this._ils.length&&(this._prod&&this._prod._stop(),this._ils=[])},t.prototype.addListener=function(t){if("function"!=typeof t.next||"function"!=typeof t.error||"function"!=typeof t.complete)throw new Error("stream.addListener() requires all three next, error, and complete functions.");t._n=t.next,t._e=t.error,t._c=t.complete,this._add(t)},t.prototype.removeListener=function(t){this._remove(t)},t.prototype._add=function(t){var e=this._ils;if(e.push(t),1===e.length){this._stopID!==c&&(clearTimeout(this._stopID),this._stopID=c);var n=this._prod;n&&n._start(this)}},t.prototype._remove=function(t){
var e=this._ils,n=e.indexOf(t);if(n>-1){e.splice(n,1);var o=this._prod;o&&e.length<=0&&(this._stopID=setTimeout(function(){return o._stop()}))}},t.create=function(e){if(e){if("function"!=typeof e.start||"function"!=typeof e.stop)throw new Error("producer requires both start and stop functions");i(e)}return new t(e)},t.createWithMemory=function(t){return t&&i(t),new R(t)},t.never=function(){return new t({_start:o,_stop:o})},t.empty=function(){return new t({_start:function(t){t._c()},_stop:o})},t["throw"]=function(e){return new t({_start:function(t){t._e(e)},_stop:o})},t.of=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return t.fromArray(e)},t.fromArray=function(e){return new t(new d(e))},t.fromPromise=function(e){return new t(new h(e))},t.periodic=function(e){return new t(new m(e))},t.merge=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return new t(new v(e))},t.prototype.map=function(e){var n=this._prod;return new t(n instanceof w?new A(n.passes,e,n.ins):n instanceof A?new A(n.passes,s(e,n.project),n.ins):n instanceof N?new N(s(e,n.project),n.ins):new N(e,this))},t.prototype.mapTo=function(t){var e=this.map(function(){return t}),n=e._prod;return n.type=n.type.replace("map","mapTo"),e},t.prototype.filter=function(e){var n=this._prod;return new t(n instanceof w?new w(u(e,n.passes),n.ins):new w(e,this))},t.prototype.take=function(e){return new t(new P(e,this))},t.prototype.drop=function(e){return new t(new g(e,this))},t.prototype.last=function(){return new t(new M(this))},t.prototype.startWith=function(e){return new t(new F(this,e))},t.prototype.endWhen=function(e){return new t(new b(e,this))},t.prototype.fold=function(e,n){return new t(new k(e,n,this))},t.prototype.replaceError=function(e){return new t(new L(e,this))},t.prototype.flatten=function(){var e=this._prod;return new t(e instanceof N&&!(e instanceof A)?new T(e):new O(this))},t.prototype.flattenConcurrently=function(){var e=this._prod;return new t(e instanceof N&&!(e instanceof A)?new C(e):new S(this))},t.prototype.merge=function(e){return t.merge(this,e)},t.prototype.compose=function(t){return t(this)},t.prototype.remember=function(){var t=this;return new R({_start:function(e){t._prod._start(e)},_stop:function(){t._prod._stop()}})},t.prototype.imitate=function(t){t._add(this)},t.prototype.debug=function(e){return void 0===e&&(e=null),new t(new y(e,this))},t.prototype.shamefullySendNext=function(t){this._n(t)},t.prototype.shamefullySendError=function(t){this._e(t)},t.prototype.shamefullySendComplete=function(){this._c()},t.combine=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return new t(new p(e,n))},t}();n.Stream=I;var R=function(t){function e(e){t.call(this,e),this._has=!1}return l(e,t),e.prototype._n=function(e){this._v=e,this._has=!0,t.prototype._n.call(this,e)},e.prototype._add=function(e){this._has&&e._n(this._v),t.prototype._add.call(this,e)},e}(I);n.MemoryStream=R,Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=I},{}],63:[function(t,e,n){"use strict";function o(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return new r.Stream(new i(t))}var r=t("../core"),i=function(){function t(t){this.streams=t,this.type="concat",this.out=null,this.i=0}return t.prototype._start=function(t){this.out=t,this.streams[this.i]._add(this)},t.prototype._stop=function(){var t=this.streams;this.i<t.length&&t[this.i]._remove(this),this.i=0,this.out=null},t.prototype._n=function(t){this.out._n(t)},t.prototype._e=function(t){this.out._e(t)},t.prototype._c=function(){var t=this.streams;t[this.i]._remove(this),++this.i<t.length?t[this.i]._add(this):this.out._c()},t}();Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=o},{"../core":62}]},{},[10])(10)});